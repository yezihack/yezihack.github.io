<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.14549c76bbc96f0af1574b0259efd70e52908cd36fb4d14ed3d290a1b6479eae.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>空树之空 - Go 实践教程-基本语法(四)</title><meta property="og:title" content="空树之空 - Go 实践教程-基本语法(四)"><meta name=twitter:title content="空树之空 - Go 实践教程-基本语法(四)"><meta itemprop=name content="空树之空 - Go 实践教程-基本语法(四)"><meta name=application-name content="空树之空 - Go 实践教程-基本语法(四)"><meta property="og:site_name" content="空树之空"><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://yezihack.github.io/posts/tutorial-golang-base.html><link rel=canonical href=https://yezihack.github.io/posts/tutorial-golang-base.html itemprop=url><meta name=url content="https://yezihack.github.io/posts/tutorial-golang-base.html"><meta name=twitter:url content="https://yezihack.github.io/posts/tutorial-golang-base.html"><meta property="og:url" content="https://yezihack.github.io/posts/tutorial-golang-base.html"><meta property="og:updated_time" content="29009-29-05T929:55:20+0800"><link rel=sitemap type=application/xml title=Sitemap href=https://yezihack.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content="空树之空"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="29009-29-05T929:55:20+0800"><meta property="article:published_time" content="29009-29-05T929:55:20+0800"><meta property="og:article:author" content="百里"><meta property="article:author" content="百里"><meta name=author content="百里"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Go 实践教程-基本语法(四)","author":{"@type":"Person","name":""},"datePublished":"2020-09-29","description":"","wordCount":"1673","mainEntityOfPage":"True","dateModified":"2020-09-29","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"空树之空","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.114.0"><link type=text/css rel=stylesheet href=/css/bundle.min.aa949ea27ee9836d60d6ea4c073fd0885f51948c7eea0247da6b1aff4bc25c44.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body class=dark-theme><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://yezihack.github.io/><img src=/images/head.jpg alt="brand image"></a>
<a href=https://yezihack.github.io/><h1>空树之空</h1></a></h1><p class=lead>《空樹之空》博客是一个技术导向的平台，聚焦于Kubernetes、DevOps和Linux等领域。通过简洁而优美的文字，我们提供对这些技术主题的深入探索和实用的指南。</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/about/>About</a></li><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://yezihack.github.io/posts/haproxy-keepalived.html>Haproxy + Keepalived 实现 k8s 集群高可用</a></li><li class=bullet><a href=https://yezihack.github.io/posts/istio-ratelimit.html>Istio 限流实现</a></li><li class=bullet><a href=https://yezihack.github.io/posts/istio-install.html>Istio 安装</a></li><li class=bullet><a href=https://yezihack.github.io/posts/etcd-v3.2.html>云运维笔记(10) Etcd V3.2 集群二进制搭建</a></li><li class=bullet><a href=https://yezihack.github.io/posts/etcd-v3.4.html>云运维笔记(11) Etcd V3.4 集群二进制搭建</a></li><li class=heading><a href=/tags/>Tags</a></li></ul></nav><a target=_blank class=social title="RSS Feed" href=https://yezihack.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote><br>&copy; 2023 百里江山. All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://yezihack.github.io/posts/tutorial-golang-base.html>Go 实践教程-基本语法(四)</a></h1><time datetime=2020-09-29T17:29:55+0800 class=post-date>September 29, 2020</time><ul class=tags><li class=tag-Go实践教程><a href=https://yezihack.github.io/tags/go%E5%AE%9E%E8%B7%B5%E6%95%99%E7%A8%8B>Go实践教程</a></li><li class=tag-golang><a href=https://yezihack.github.io/tags/golang>golang</a></li><li class=tag-教程><a href=https://yezihack.github.io/tags/%E6%95%99%E7%A8%8B>教程</a></li></ul></div><blockquote><p>本篇主要介绍，基本数据类型、控制语句和数据结构及函数、方法、接口等知识。为后面学习打下基础，有个基本的认识。也为您将来进阶做准备。</p></blockquote><h2 id=基础语法>基础语法</h2><p>之前我们在<a href=https://yezihack.github.io/tutorial-golang-runing.html target=_blank>Go 实践教程-工具及运行(三)</a>写过一个“hello world”程序，讲解了三个概念：package,import,main</p><h3 id=注释>注释</h3><blockquote><p>写代码时必不可少需要写一些代码注释，方便以后回过头来看程序。Go里面提供两种方法注释</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 单行注释 （注意 //之后需要一个空格，之于为什么，go doc 方便自动生成文档抓取注释）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e> 多行注释，在这里面都属于被注释的内容
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span></code></pre></div><h3 id=标识符>标识符</h3><blockquote><p>标识符用来命名变量，类型等程序实体。允许由大小写字母(a-z|A-Z)和数据(0~9)及下划线(_)组成，但第一个字符必须由字母和下划线组成</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span> <span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>_a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>22</span> <span style=color:#75715e>// ok 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>case</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;abc&#34;</span><span style=color:#75715e>// 无效变量 error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#ae81ff>9</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span> <span style=color:#75715e>// 无效变量 error
</span></span></span></code></pre></div><h3 id=变量命名>变量命名</h3><blockquote><p>Go 语言的变量命名比较独特，如果你熟悉其它语言你会不习惯的。</p><p>先变量名 后跟类型名称</p></blockquote><ol><li><p>全局变量</p><blockquote><p>必须有 var 关键字</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 优雅的方法,适合多个变量， 也适用于import 里
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// 等价于
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span></code></pre></div></li><li><p>函数内的局部变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><h3 id=变量操作>变量操作</h3><ol><li><p>变量声明</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 指定变量类型, 使用 var 关键字
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>int</span> <span style=color:#75715e>// 默认为零值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>x</span> = <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> []<span style=color:#66d9ef>int</span> <span style=color:#75715e>//  arr 零值为 nil
</span></span></span></code></pre></div></li><li><p>变量推断</p><blockquote><p>只适合在函数内，即局部变量使用</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span> <span style=color:#75715e>// 自动推断为整形 int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;sgfoot.com&#34;</span> <span style=color:#75715e>// 自动推断为字符串 string
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>y</span> = <span style=color:#ae81ff>120</span> <span style=color:#75715e>// 也可以推断为整形 int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></li><li><p>变量多个赋值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;x:%d, y:%d\n&#34;</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><h3 id=关键字>关键字</h3><blockquote><p>Go 一共只有25个关键字, 系统保留的， 不能做为自己的变量名或函数名，结构体名等。</p></blockquote><table><thead><tr><th>break</th><th>default</th><th>func</th><th>interface</th><th>select</th></tr></thead><tbody><tr><td>case</td><td>defer</td><td>go</td><td>map</td><td>struct</td></tr><tr><td>chan</td><td>else</td><td>goto</td><td>package</td><td>switch</td></tr><tr><td>const</td><td>fallthrough</td><td>if</td><td>range</td><td>type</td></tr><tr><td>continue</td><td>for</td><td>import</td><td>return</td><td>var</td></tr></tbody></table><h3 id=访问权限>访问权限</h3><blockquote><p>Go 里只有公有与私有之分，没有其它语言中的保护权限</p><p>Go 里没有用关键字来区分，而是使用大小写来区分，大写字母为公有，小写为私有(跨包不可见)</p></blockquote><ol><li><p>变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span> <span style=color:#75715e>// 私有变量
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span> <span style=color:#75715e>// 公有变量
</span></span></span></code></pre></div></li><li><p>函数</p><pre tabindex=0><code>// 私有函数
func foo() {

}
// 公有函数
func Foo() {

}
</code></pre></li><li><p>结构体</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 私有结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>people</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span> <span style=color:#75715e>// 私有结构成员
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Age</span> <span style=color:#66d9ef>int</span> <span style=color:#75715e>// 公有结构成员
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 公有结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>People</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>接口</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 私有结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>people</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>foo</span>() <span style=color:#66d9ef>int</span> 		<span style=color:#75715e>// 私有函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Foo</span>() <span style=color:#66d9ef>string</span>   <span style=color:#75715e>// 公有函数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 公有结构体
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>People</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><h3 id=常量>常量</h3><blockquote><p>程序运行时，不会被修改，也无法修改。即是常量</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>NAME</span> = <span style=color:#e6db74>&#34;sgfoot.com&#34;</span> <span style=color:#75715e>// 也可以自己推断
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>AGE</span> <span style=color:#66d9ef>int</span> = <span style=color:#ae81ff>19</span> <span style=color:#75715e>// 也可以指定类型 
</span></span></span></code></pre></div><ol><li><p>常量用于枚举操作 优雅操作</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>STATE_USA</span> = <span style=color:#e6db74>&#34;USA&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>STATE_JAP</span> = <span style=color:#e6db74>&#34;JAPANESE&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>STATE_CN</span> = <span style=color:#e6db74>&#34;CHINA&#34;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div></li><li><p>iota 特殊</p><blockquote><p>iota 初使为0， 新的一行没有使用，自动加1，输出上面变量的值。如果遇到显示 iota 就输出值</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span> = <span style=color:#66d9ef>iota</span>     <span style=color:#75715e>// 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>b</span> = <span style=color:#ae81ff>10</span>       <span style=color:#75715e>// 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>c</span> = <span style=color:#e6db74>&#34;sgfoot&#34;</span> <span style=color:#75715e>// sgfoot
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>d</span>            <span style=color:#75715e>// sgfoot (输出上面变量即c的值),iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>e</span>            <span style=color:#75715e>// sgfoot (输出上面变量即c的值),iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>f</span> = <span style=color:#ae81ff>50</span>       <span style=color:#75715e>// 50, iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>g</span>            <span style=color:#75715e>// 50(输出上面变量即f的值), iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>h</span> = <span style=color:#66d9ef>iota</span>     <span style=color:#75715e>// 7, 出现iota显示即恢复计数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>i</span>            <span style=color:#75715e>// 8, iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>j</span> = <span style=color:#e6db74>&#34;ok&#34;</span>     <span style=color:#75715e>// ok,iota += 1 (iota继续+1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;a:%d, a:%d, c:%s, d:%s, e:%s, f:%d, g:%d, h:%d, i:%d, j：%s\n&#34;</span>, <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>, <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>e</span>, <span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol><h3 id=defer>defer</h3><blockquote><p>这个关键字的作用是延时操作，也是 go 独特的发明。非常好用。</p></blockquote><ol><li><p>一般用于忘记关闭连接操作，如文件句柄关闭，数据库关闭</p></li><li><p>多个 defer 的话，采用栈的方式执行，也就是先进后执行的顺序，这个非常重要。</p></li><li><p>如果同一个函数内存在<code>os.Exit(0)</code>， defer 不会执行的。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;a&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;b&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;c&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// cba
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;a&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;b&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;c&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Exit</span>(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 什么也不输出，因为 os.Exit 的存在
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;a&#34;</span>)
</span></span><span style=display:flex><span>	}()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;b&#34;</span>)
</span></span><span style=display:flex><span>	}()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>defer</span> print(<span style=color:#e6db74>&#34;c&#34;</span>)
</span></span><span style=display:flex><span>	}()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Millisecond</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出结果可能是 abc, cba 不确定。因为 goroutine 执行没有顺序可言
</span></span></span></code></pre></div></li></ol><h2 id=基础类型>基础类型</h2><blockquote><p>类型非常丰富， int 比较特殊，如果运行的机器当前是32位，int = int32, 如果64位 int=int64</p><p>int8 占1个字节， int16占2个字节，int32占4个字节, int64占8个字节</p></blockquote><ol><li>布尔型 <code>false, true</code></li><li>数字类型<code>int, int8, int16, int32, int64, uint, uint8,uint16,uint32,uint64</code></li><li>字符串类型<code>float32, float64, complex64, complex128</code></li><li>其它类型<code>byte, rune, uint, uintptr</code></li></ol><h2 id=控制操作>控制操作</h2><h3 id=条件操作>条件操作</h3><ol><li><p>if 操作，三种写法 if , if else, if else if</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Seed</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>UnixNano</span>()) <span style=color:#75715e>// 必须给个种子。保证每次随机不一样
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>100</span>)              <span style=color:#75715e>// 随机[0, 100)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 第1种用法 if
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x == 10&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第2种用法 if else
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> &lt; <span style=color:#ae81ff>10</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &lt; 10&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &gt; 10&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第3种用法 if else if else
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> &lt; <span style=color:#ae81ff>30</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &lt; 30&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> &gt; <span style=color:#ae81ff>30</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>x</span> &lt; <span style=color:#ae81ff>60</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &gt; 30 与 x &lt; 60&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &gt; 60&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>switch 操作, 三种使用</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Seed</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>UnixNano</span>()) <span style=color:#75715e>// 必须给个种子。保证每次随机不一样
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>100</span>)              <span style=color:#75715e>// 随机[0, 100)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 第1种写法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>x</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>11</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>13</span>: <span style=color:#75715e>// 多个值的判断
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    println(<span style=color:#e6db74>&#34;x = 10&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>20</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x = 20&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x&#34;</span>, <span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第2种写法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>switch</span> { <span style=color:#75715e>// switch 这里什么也不写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>     <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>x</span> &gt; <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>     println(<span style=color:#e6db74>&#34;x &gt; 10&#34;</span>)
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>x</span> &gt; <span style=color:#ae81ff>60</span>:
</span></span><span style=display:flex><span>     println(<span style=color:#e6db74>&#34;x == 60&#34;</span>)
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>fallthrough</span> <span style=color:#75715e>// 穿透下一个case判断
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>     <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>70</span>, <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>71</span>:
</span></span><span style=display:flex><span>     println(<span style=color:#e6db74>&#34;x == 70, 71&#34;</span>)
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>     println(<span style=color:#e6db74>&#34;x&#34;</span>, <span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第3种写法： 用法判断未知变量类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>int</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>: <span style=color:#e6db74>&#34;sgfoot.com&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>2</span>: <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>y</span>.(<span style=color:#66d9ef>type</span>) {<span style=color:#75715e>// 判断类型 .(type)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>case</span> <span style=color:#66d9ef>int</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;y is int&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#66d9ef>string</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;y is string&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;y dont know type&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>select 操作, channel 通道专用</p><ol><li>类似switch， case必须是一个 channel 通信</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> = make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>10</span> <span style=color:#75715e>// 使用注释再运行下，查看效果(default)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>select</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>x</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;data:&#34;</span>, <span style=color:#a6e22e>data</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;default&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol><li>如果有多个case都可以使用则会随机选出一个运行。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> = make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>10</span> <span style=color:#75715e>// 使用注释再运行下，查看效果(default)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>select</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>x</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;data:&#34;</span>, <span style=color:#a6e22e>data</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>case</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>y</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;data:&#34;</span>, <span style=color:#a6e22e>data</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>default</span>:
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;default&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 代码多运行几次，结果不一样的。
</span></span></span></code></pre></div></li></ol><h3 id=循环操作>循环操作</h3><blockquote><p>go里只有一种循环，包含其它语言的for, foreach 功能</p></blockquote><ol><li><p>for</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第1种用法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;i&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// 第2种用法
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>int</span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>80</span>, <span style=color:#ae81ff>90</span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>val</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>arr</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;key&#34;</span>, <span style=color:#a6e22e>key</span>, <span style=color:#e6db74>&#34;val&#34;</span>, <span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>val</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>arr</span> { <span style=color:#75715e>// 忽略 key,使用 _, 同理也可以忽略 val, 只打印 key.自己试下吧。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    println(<span style=color:#e6db74>&#34;val&#34;</span>, <span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>break, continue, goto 在for里使用</p><ol><li><p>break 是随时跳出第一层 for 循环</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span> { <span style=color:#75715e>// i = 5时之后的数据不再打印啦。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;i&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>continue 是跳过某逻辑代码，进入下一次循环</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span> <span style=color:#75715e>// i = 5时不执行本次循环啦，直接跳到下一次循环， 打印6之后的数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;i&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>goto 是直接跳到标记处，少用，不推荐使用。危害性大.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>goto</span> <span style=color:#a6e22e>END</span> <span style=color:#75715e>// i = 5时直接暴力跳到END标记处，即结束所有的循环操作啦
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;i&#34;</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>END</span>: <span style=color:#75715e>// 顶格写
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	println(<span style=color:#e6db74>&#34;结束啦&#34;</span>)
</span></span></code></pre></div></li></ol></li></ol><h2 id=运算操作>运算操作</h2><h3 id=算术运算>算术运算</h3><p>加+，减-，乘*， 除/，求余%，自增++，自减&ndash;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;加法&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;减法&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;乘法&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;除法&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;求余&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>%</span><span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;自增&#34;</span>, <span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span><span style=color:#f92672>--</span>
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;自减&#34;</span>, <span style=color:#a6e22e>y</span>)
</span></span></code></pre></div><h3 id=关系运算>关系运算</h3><p>相等(==)，不相等(!=)， 大于(>)，小于(&lt;)，大于并等于(>=)， 小于并等于(&lt;=)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Seed</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>UnixNano</span>())
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x == y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x != y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> &gt; <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &gt; y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> &lt; <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &lt; y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &gt;= y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>y</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;x &lt;= y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=逻辑运算>逻辑运算</h3><p>&&与, ||或, !非</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Seed</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>().<span style=color:#a6e22e>UnixNano</span>())
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rand</span>.<span style=color:#a6e22e>Intn</span>(<span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>y</span> &gt; <span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>y</span> { <span style=color:#75715e>// &amp;&amp; 必须是两个条件同时满足，才成立
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    println(<span style=color:#e6db74>&#34;y &gt; 10 &amp;&amp; x == y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>y</span> &gt; <span style=color:#ae81ff>10</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>y</span> { <span style=color:#75715e>// || 满足一个条件，即成立
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    println(<span style=color:#e6db74>&#34;y &gt; 10 || x == y&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> !(<span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>y</span>) { <span style=color:#75715e>// ! 取反，即成立
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    println(<span style=color:#e6db74>&#34;!(x == y)&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=位运算>位运算</h3><p>&，|, ^, &#187;, &#171;</p><ol><li><p>&位运算</p><p>两个位都为1时，结果才为1</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>1011</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1001</span>
</span></span><span style=display:flex><span>---- &amp;运算结果
</span></span><span style=display:flex><span><span style=color:#ae81ff>1001</span>
</span></span></code></pre></div></li><li><p>|位运算</p><p>两个位都为0时，结果才为0。 含有1，结果就为1</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>1011</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1001</span>
</span></span><span style=display:flex><span>---- |运算结果
</span></span><span style=display:flex><span><span style=color:#ae81ff>1011</span>
</span></span></code></pre></div></li><li><p>^位运算</p><p>两个位相同为0， 相异为1</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>1011</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1001</span>
</span></span><span style=display:flex><span>---- ^运算结果
</span></span><span style=display:flex><span><span style=color:#ae81ff>0010</span>
</span></span></code></pre></div></li><li><p><code>>></code>运算</p><p>向左移，最左边的高位丢掉补0， 最右边的低位直接丢掉。相当于除以2</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>1011</span> &gt;&gt; <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>结果：0101
</span></span></code></pre></div></li><li><p><code>&lt;&lt;</code>运算</p><p>向左移，最高位向前进一位， 左边的位进一位。相当于乘以2</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>1011</span> <span style=color:#e6db74>&lt;&lt; 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>结果：0001</span> <span style=color:#ae81ff>0110</span>
</span></span></code></pre></div></li></ol><p>综合golang练习一下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>11</span>                 <span style=color:#75715e>// 二进制为 1011
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>8</span>                  <span style=color:#75715e>// 二进制为 1000
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;x &amp; y =&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>&amp;</span><span style=color:#a6e22e>y</span>) <span style=color:#75715e>// 8 二进制为 1000
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;x | y =&#34;</span>, <span style=color:#a6e22e>x</span>|<span style=color:#a6e22e>y</span>) <span style=color:#75715e>// 11 二进制为 1011
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;x ^ y =&#34;</span>, <span style=color:#a6e22e>x</span>^<span style=color:#a6e22e>y</span>) <span style=color:#75715e>// 3 二进制为 0011
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;x &gt;&gt; 1&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>&gt;&gt;</span><span style=color:#ae81ff>1</span>) <span style=color:#75715e>// 5 二进制为 0000 0101
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;y &lt;&lt; 1&#34;</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#ae81ff>1</span>) <span style=color:#75715e>// 22 二进制为 0001 0110
</span></span></span></code></pre></div><h3 id=赋值运算>赋值运算</h3><p>对运算进行简化操作。如 a = a + 10, 可以简化成 a += 10</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>11</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>y</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>8</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>/=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>%=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;&lt;=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;&gt;=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>&amp;=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>|=</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span> ^= <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;x &#34;</span>, <span style=color:#a6e22e>x</span>)
</span></span></code></pre></div><h3 id=其它运算>其它运算</h3><p>&取变量地址，*指针变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;x地址：&#34;</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>x</span>) <span style=color:#75715e>// 0xc000037f68(每个人的内存不一样，显示地址也不一样)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>          <span style=color:#75715e>// 声明一个指针，未实例，不能使用。因为没有分配空间
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>y</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>x</span>              <span style=color:#75715e>// 把 x 的地址赋值给 y
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;y=&#34;</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>y</span>)   <span style=color:#75715e>// 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;y地址&#34;</span>, <span style=color:#a6e22e>y</span>)   <span style=color:#75715e>// 0xc000037f68 与 x 的地址相同
</span></span></span></code></pre></div><h2 id=数据结构>数据结构</h2><blockquote><p>slice, map, chan 都是引用类型，需要使用 make 初使化，才能使用。</p></blockquote><h3 id=数组>数组</h3><blockquote><p>使用时必须声明数组大小，不太灵活，所以很少使用, 底层是连续分配的空间</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> [<span style=color:#ae81ff>3</span>]<span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>1</span>] = <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>2</span>] = <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//arr[3] = 4 不能再赋值啦，因为只分配了3个大小的空间。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;arr[2]=&#34;</span>, <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>2</span>]) <span style=color:#75715e>// 3
</span></span></span></code></pre></div><h3 id=切片slice>切片(slice)</h3><blockquote><p>切片底层是指向数组的指针，即动态数组，在实际中常用。</p><p>线程不安全的数据结构</p><p>关于cap的扩容规则: 小于等于1024大小时采用2倍扩容，大于1024则按1.25倍扩容。</p></blockquote><ol><li><p>第一种用法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> []<span style=color:#66d9ef>int</span>        <span style=color:#75715e>// 只定义了切片，未分配内存
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> = make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>4</span>) <span style=color:#75715e>// 对 arr 进行分配内存空间， 第1个参数是类型， 第2个参数是初使大小， 还有第三个参数是容量cap
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>0</span>] = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>1</span>] = <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>2</span>] = <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>3</span>] = <span style=color:#ae81ff>4</span>                 <span style=color:#75715e>// 数组是不能超出定义的大小，而切片可以动态扩容。
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;arr[2]=&#34;</span>, <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>2</span>]) <span style=color:#75715e>// 3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#ae81ff>5</span>)       <span style=color:#75715e>// 动态追加数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#ae81ff>6</span>)       <span style=color:#75715e>// 动态追加数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#ae81ff>7</span>)       <span style=color:#75715e>// 动态追加数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>val</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>arr</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;val=&#34;</span>, <span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li><p>第二种用法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#a6e22e>i</span>) <span style=color:#75715e>// 动态添加数据，无需指定大小，自动扩容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></li><li><p>第三种用法 len, cap</p><p>len 是切片实际长度</p><p>cap是切片底层分配数组的大小，而并实际使用大小</p><p>只有len > cap时才会进行一次 cap 大小扩容</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#a6e22e>i</span>) <span style=color:#75715e>// 动态添加数据，无需指定大小，自动扩容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// len 是切片实际长度，cap是切片底层分配数组的大小，而并实际使用大小，只有len &gt; cap时才会进行一次 cap 大小扩容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>println(<span style=color:#e6db74>&#34;len:&#34;</span>, len(<span style=color:#a6e22e>arr</span>), <span style=color:#e6db74>&#34;cap&#34;</span>, cap(<span style=color:#a6e22e>arr</span>)) <span style=color:#75715e>// len: 10 cap 10
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#a6e22e>i</span>) <span style=color:#75715e>// 动态添加数据，无需指定大小，自动扩容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;len:&#34;</span>, len(<span style=color:#a6e22e>arr</span>), <span style=color:#e6db74>&#34;cap&#34;</span>, cap(<span style=color:#a6e22e>arr</span>)) <span style=color:#75715e>// len: 11 cap 20
</span></span></span></code></pre></div></li><li><p>copy</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>arr</span> = append(<span style=color:#a6e22e>arr</span>, <span style=color:#a6e22e>i</span>) <span style=color:#75715e>// 动态添加数据，无需指定大小，自动扩容
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// copy 第一个参数是目标切片，第二个参数是源切片。
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 当目标切片长度小于源切片则只复制目标切片长度的数据。反之则零值0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>cc</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>copy(<span style=color:#a6e22e>cc</span>, <span style=color:#a6e22e>arr</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>cc</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#a6e22e>cc</span>[<span style=color:#a6e22e>i</span>], <span style=color:#e6db74>&#34;,&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 0,1,2,3,4,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>cc2</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>11</span>)
</span></span><span style=display:flex><span>copy(<span style=color:#a6e22e>cc2</span>, <span style=color:#a6e22e>arr</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>cc2</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>    print(<span style=color:#a6e22e>cc2</span>[<span style=color:#a6e22e>i</span>], <span style=color:#e6db74>&#34;,&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 0,1,2,3,4,5,6,7,8,9,0,
</span></span></span></code></pre></div></li></ol><h3 id=字典map>字典(map)</h3><blockquote><p>无序的 kv 数据结构， 可以通过 key 检索数据，时间复杂度O(1),</p><p>线程不安全的数据结构</p></blockquote><ol><li><p>第一种用法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span> = make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;golang&#34;</span>] = <span style=color:#e6db74>&#34;最厉害的语言&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>] = <span style=color:#e6db74>&#34;一个有节操的技术网站&#34;</span>
</span></span><span style=display:flex><span>println(<span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;golang&#34;</span>], <span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>]) <span style=color:#75715e>// 最厉害的语言 一个有节操的技术网站
</span></span></span></code></pre></div></li><li><p>第二种用法</p><pre tabindex=0><code>s := make(map[string]string) // 直接用推断初使化 map
s[&#34;golang&#34;] = &#34;最厉害的语言&#34;
s[&#34;sgfoot.com&#34;] = &#34;一个有节操的技术网站&#34;
println(s[&#34;golang&#34;], s[&#34;sgfoot.com&#34;]) // 最厉害的语言 一个有节操的技术网站
</code></pre></li><li><p>第三种用法，删除键与判断键是否存在</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;golang&#34;</span>] = <span style=color:#e6db74>&#34;最厉害的语言&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>] = <span style=color:#e6db74>&#34;一个有节操的技术网站&#34;</span>
</span></span><span style=display:flex><span>println(<span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;golang&#34;</span>], <span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>]) <span style=color:#75715e>// 最厉害的语言 一个有节操的技术网站
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>delete(<span style=color:#a6e22e>s</span>, <span style=color:#e6db74>&#34;golang&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;golang&#34;</span>]; !<span style=color:#a6e22e>ok</span> { <span style=color:#75715e>// 一种方便牛X的写法，判断map键是否存在， 注意有个分号(;)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	println(<span style=color:#e6db74>&#34;golang键已经删除掉了&#34;</span>) <span style=color:#75715e>// golang键已经删除掉了
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>val</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>[<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>]; <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>    println(<span style=color:#e6db74>&#34;sgfoot.com&#34;</span>, <span style=color:#a6e22e>val</span>) <span style=color:#75715e>// sgfoot.com 一个有节操的技术网站
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></li></ol><h3 id=通道chan>通道(chan)</h3><blockquote><p>通道非常重要，也是 go 语言的灵魂。</p><p>这是先简单介绍一下，后面会专门写一篇文章介绍如何使用</p></blockquote><ol><li><p>第一种用法: 不带缓冲能力</p><p>第一个参数是声明通道的类型</p><p>第二个参数是声明通道是否带缓冲能力(这里为0，不带缓冲能力)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>) <span style=color:#75715e>// 第一个参数是声明通道的类型， 第二个参数是声明通道是否带缓冲能力(这里为0，不带缓冲能力)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// 无缓冲能力则需要使用一个 goroutine 将通道里的数据取出来，否则会 deadlock(你可以把 go func(){} 注释运行一下)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>c</span> {
</span></span><span style=display:flex><span>        println(<span style=color:#a6e22e>data</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}()
</span></span><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Millisecond</span>) <span style=color:#75715e>// 等待上面代码完成，主线程再结束
</span></span></span></code></pre></div></li><li><p>第二种用法：带缓冲能力</p></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>2</span>) <span style=color:#75715e>// 第一个参数是声明通道的类型， 第二个参数是声明通道是否带缓冲能力
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>println(<span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>, <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>) <span style=color:#75715e>// 1 2
</span></span></span></code></pre></div><hr><div class=footer><a class=previous-post href="https://yezihack.github.io/posts/fdisk-rsync.html?ref=footer"><span style=font-weight:700>« Previous</span><br>fdisk lvm对根目录扩容</a><div class=next-post><a href="https://yezihack.github.io/posts/docker-theory.html?ref=footer"><span style=font-weight:700>Next »</span><br>Docker笔记(一) 原理</a></div></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#基础语法>基础语法</a><ul><li><a href=#注释>注释</a></li><li><a href=#标识符>标识符</a></li><li><a href=#变量命名>变量命名</a></li><li><a href=#变量操作>变量操作</a></li><li><a href=#关键字>关键字</a></li><li><a href=#访问权限>访问权限</a></li><li><a href=#常量>常量</a></li><li><a href=#defer>defer</a></li></ul></li><li><a href=#基础类型>基础类型</a></li><li><a href=#控制操作>控制操作</a><ul><li><a href=#条件操作>条件操作</a></li><li><a href=#循环操作>循环操作</a></li></ul></li><li><a href=#运算操作>运算操作</a><ul><li><a href=#算术运算>算术运算</a></li><li><a href=#关系运算>关系运算</a></li><li><a href=#逻辑运算>逻辑运算</a></li><li><a href=#位运算>位运算</a></li><li><a href=#赋值运算>赋值运算</a></li><li><a href=#其它运算>其它运算</a></li></ul></li><li><a href=#数据结构>数据结构</a><ul><li><a href=#数组>数组</a></li><li><a href=#切片slice>切片(slice)</a></li><li><a href=#字典map>字典(map)</a></li><li><a href=#通道chan>通道(chan)</a></li></ul></li></ul></nav></div></div></div></body></html>